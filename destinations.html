<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Destinations - Adventure</title>
    <link rel="stylesheet" href="destinations.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    <header class ="home-main">
        <nav class="navbar">
            <a href="./">
                <img src="assets/advent.png" alt="Adventure Image" class="small-image">
            </a>
            <ul class="nav-links">
                <li><a href="./index.html">Home</a></li>
                <li><a href="./about.html">About us</a></li>
                <li><a href="./destinations.html">Destinations</a></li>
                <li><a href="./news.html">News</a></li>
            </ul>
        </nav>
        <h1>Destinations</h1>
    </header>

    <main>
        <form class="search-places">
            <i class="fa fa-search"></i>
            <input type="text" id="searchPlaces" placeholder="Search places">
        </form>
        <div class="radio-container">
            <input type="radio" id="sort-all" name="sort" value="All" checked>
            <label for="sort-all">All</label>
            <input type="radio" id="sort-Lake" name="sort" value="Lake">
            <label for="sort-Lake">Lake</label>
            <input type="radio" id="sort-Khangai" name="sort" value="Khangai">
            <label for="sort-Khangai">Khangai</label>
            <input type="radio" id="sort-Gobi" name="sort" value="Gobi">
            <label for="sort-Gobi">Gobi</label>
            <input type="radio" id="sort-Steppe" name="sort" value="Steppe">
            <label for="sort-Steppe">Steppe</label>
            <input type="radio" id="price-0-150000" name="price" value="0-150000">
            <label for="price-0-150000">0-150000</label>
            <input type="radio" id="price-150000-250000" name="price" value="150000-250000">
            <label for="price-150000-250000">150000-250000</label>
            <input type="radio" id="price-250000-350000" name="price" value="250000-350000">
            <label for="price-250000-350000">250000-350000</label>
            <input type="radio" id="price-350000" name="price" value="350000+">
            <label for="price-350000">350000+</label>
        </div>   
        <main>
            <section class="city-grid"></section>
    
        </main>     
        <!-- <section class="city-grid">
            <article data-region="Lake">
                <a href="huvsgul.html">
                    <img src="assets/huwsgul.jpg" alt="Huwsgul">
                    <h4>Huwsgul</h4>
                </a>
            </article>
            <article data-region="Khangai">
                <a href="khustai.html">
                    <img src="assets/hustai.jpg" alt="Hustai">
                    <h4>Khustain Nuruu</h4>
                </a>
            </article>
            <article data-region="Lake">
                <a href="hyrgas.html">
                    <img src="assets/hyrgas.jpg" alt="Hyrgas">
                    <h4>Hyrgas</h4>
                </a>
            </article>
            <article data-region="Khangai">
                <a href="Altai.html">
                    <img src="assets/AltaiTavanBogd.jpg" alt="Altai">
                    <h4>Altai Tavan Bogd</h4>
                </a>
            </article>
            <article data-region="Gobi">
                <a href="hongoriinels.html">
                    <img src="assets/hongor_els.jpg" alt="hongor">
                    <h4>Hongoriin els</h4>
                </a>
            </article>
            <article data-region="Khangai">
                <a href="saihan.html">
                    <img src="assets/saihaniiHotol.jpg" alt="Beijing">
                    <h4>Saihanii hutul</h4>
                </a>
            </article>
            <article data-region="Khangai">
                <a href="orkhon.html">
                    <img src="assets/Orhonii-hundii-940x520.jpg" alt="Ankara">
                    <h4>Orhonii hundii</h4>
                </a>
            </article>
            <article data-region="Steppe">
                <a href="hiid.html">
                    <img src="assets/Erdenzuu.jpg" alt="Berlin">
                    <h4>Erdene zuu hiid</h4>
                </a>
            </article data-region="Europe">
            <article data-region="Europe">
                <a href="city.html">
                    <img src="assets/berlin.jpg" alt="Berlin">
                    <h4>jishee</h4>
                </a>
            </article data-region="Europe"> -->
    </main>
    <hr>
    <footer>
        <ul class="footer-columns">
            <li class="column">
                <ul class="links">
                    <li class="ehlel"><a href="">Эхлэл</a></li>
                    <li class="contact"><a href="">Холбоо барих</a></li>
                    <li class="privacy"><a href="">Нууцлалын бодлого</a></li>
                    <li class="terms"><a href="">Үйлчилгээний журам болон нөхцөл</a></li>
                </ul>
            </li>
            <li class="column">
                <ul class="links">
                    <li class="faq"><a href="">Үйлчилгээний журам болон нөхцөл</a></li>
                    <li class="help"><a href="">Тусламж</a></li>
                </ul>
            </li>
            <li class="column">
                <ul class="links">
                    <li class="social"><a href="">Биднийг дагаарай</a></li>
                        <a href="#"><img src="assets/facebook.png" alt="Facebook"></a>
                        <a href="#"><img src="assets/instagram.png" alt="Instagram"></a>
                        <a href="#"><img src="assets/twitter.png" alt="Twitter"></a>
                        <a href="#"><img src="assets/linkedin.png" alt="LinkedIn"></a>
                    </li>
                </ul>
            </li>
        </ul>
    </footer>
    
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var radioButtons = document.querySelectorAll('input[name="sort"]');
            var articles = document.querySelectorAll('.city-grid article');
    
            var urlParams = new URLSearchParams(window.location.search);
            var initialSort = urlParams.get('sort');
            var initialSearch = urlParams.get('search');
    
            radioButtons.forEach(function (radioButton) {
                if (radioButton.value === initialSort) {
                    radioButton.checked = true;
                }
            });
    
            function updateUrlParams() {
                var selectedSort = document.querySelector('input[name="sort"]:checked').value;
                var url = new URL(window.location.href);
                url.searchParams.set('sort', selectedSort);
                history.pushState({}, '', url);
            }
    
            function filterArticlesByRegion(selectedRegion) {
                articles.forEach(function (article) {
                    var articleRegion = article.dataset.region;
    
                    if (selectedRegion === 'All' || articleRegion === selectedRegion) {
                        article.style.display = 'block';
                    } else {
                        article.style.display = 'none';
                    }
                });
            }
    
            radioButtons.forEach(function (radioButton) {
                radioButton.addEventListener('change', function () {
                    updateUrlParams();
                    var selectedRegion = this.value;
                    filterArticlesByRegion(selectedRegion);
                });
            });
    
            // Initial filtering based on the selected region and search term
            filterArticlesByRegion(initialSort);
    
            // Apply search term if available
            var searchInput = document.getElementById('searchPlaces');
            if (initialSearch) {
                searchInput.value = initialSearch;
            }
    
            // Trigger change event after setting initial values
            var selectedRadioButton = document.querySelector('input[name="sort"]:checked');
            if (selectedRadioButton) {
                selectedRadioButton.dispatchEvent(new Event('change'));
            }
        });
    </script>
     

      <script>
        document.addEventListener('DOMContentLoaded', function () {
    const cityGrid = document.querySelector('.city-grid');
    const radioButtons = document.querySelectorAll('input[name="sort"]');
    const priceRadioButtons = document.querySelectorAll('input[name="price"]');
    const searchInput = document.getElementById('searchPlaces');

    // Fetch JSON data
    fetch('destinations.json')
        .then(response => response.json())
        .then(data => {
            // Function to render articles
            function renderArticles(filterRegion = 'All', searchTerm = '', filterPrice = '') {
                cityGrid.innerHTML = '';

                // Price ranges
                const priceRanges = {
                    '0-150000': [0, 150000],
                    '150000-250000': [150000, 250000],
                    '250000-350000': [250000, 350000],
                    '350000+': [350000, Infinity],
                };

                const filteredData = data.filter(item => {
                    const matchesRegion = filterRegion === 'All' || item.region === filterRegion;
                    const matchesSearch = item.name.toLowerCase().includes(searchTerm.toLowerCase());
                    const matchesPrice = filterPrice
                        ? item.price >= priceRanges[filterPrice][0] && item.price <= priceRanges[filterPrice][1]
                        : true;
                    return matchesRegion && matchesSearch && matchesPrice;
                });

                filteredData.forEach(item => {
                    const article = document.createElement('article');
                    article.setAttribute('data-region', item.region);

                    const stars = '★'.repeat(item.rating) + '☆'.repeat(5 - item.rating);

                    article.innerHTML = `
                        <div class="flip-card">
                            <div class="flip-card-front">
                                <img src="${item.image}" alt="${item.name}">
                                <h4>${item.name}</h4>
                                <div class="rating" title="${item.rating} out of 5 stars">
                                    <span class="stars">${stars}</span>
                                </div>
                                <p>Price: <span class="price">${item.price}</span></p>
                            </div>
                            <div class="flip-card-back">
                                <h4>${item.name}</h4>
                                <p>${item.description}</p>
                                <p>Region: ${item.region}</p>
                                <a href="${item.link}" class="learn-more">Learn More</a>
                            </div>
                        </div>
                    `;
                    cityGrid.appendChild(article);
                });
            }

            // Initialize with default filters
            const initialRegion = document.querySelector('input[name="sort"]:checked').value;
            const initialPrice = document.querySelector('input[name="price"]:checked')?.value || '';
            renderArticles(initialRegion, '', initialPrice);

            // Event listeners for region filtering
            radioButtons.forEach(radioButton => {
                radioButton.addEventListener('change', () => {
                    const selectedRegion = radioButton.value;
                    const selectedPrice = document.querySelector('input[name="price"]:checked')?.value || '';
                    renderArticles(selectedRegion, searchInput.value, selectedPrice);
                });
            });

            // Event listeners for price filtering
            priceRadioButtons.forEach(radioButton => {
                radioButton.addEventListener('change', () => {
                    const selectedPrice = radioButton.value;
                    const selectedRegion = document.querySelector('input[name="sort"]:checked').value;
                    renderArticles(selectedRegion, searchInput.value, selectedPrice);
                });
            });

            // Event listener for search
            searchInput.addEventListener('input', () => {
                const selectedRegion = document.querySelector('input[name="sort"]:checked').value;
                const selectedPrice = document.querySelector('input[name="price"]:checked')?.value || '';
                renderArticles(selectedRegion, searchInput.value, selectedPrice);
            });
        })
        .catch(error => console.error('Error fetching JSON data:', error));
});

    </script>
</body>
</html>